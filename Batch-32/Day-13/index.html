<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery Basic</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <h1 class="heading" id="heading">Hello jQuery</h1>
        <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit fuga sint repellendus porro. Dolor quaerat ea veritatis animi beatae atque sint. Libero, officia. Est esse dolor voluptas optio accusantium. Nisi.</p>
        <strong id="price" data-price="1290000" data-id="123">1.290.000đ</strong>
        
        
        <input id="username" type="text" name="username">
        <input id="password" type="password" name="password">
        <button type="button" id="btnLogin">Login</button>
       
        <hr>
        <form  action="" method="post" id="myFrom">
            <input  type="text" name="username">
            <input  type="password" name="password">
            <button type="submit">Login</button>
        </form>
        <strong>Username: <span id="showUsername"></span> </strong><strong>Password: <span id="showPass"></span></strong>
    
        <h2>jQuery effect</h2>
        <button id="toggleContent" class="btn btn-primary">Toggle Content</button>
        <div id="showContent" style="display: none;">
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Veniam ratione perspiciatis, laboriosam tempora ut magni consequatur libero nobis quia, dignissimos possimus rerum ab modi aut eligendi provident eaque deserunt eum.</p>
        </div>

        <button id="toggleMobile" class="btn btn-danger">Toggle Mobile</button>
        <div id="showNav" style="display: none;">
            <ul>
                <li>Categories 1</li>
                <li>Categories 1</li>
                <li>Categories 1</li>
                <li>Categories 1</li>
            </ul>
        </div>

        <h2>GET AJAX</h2>
        <div id="showUsers">Loading........</div>


        <h2>POST AJAX</h2>
        <form action="" id="postForm">
            <input type="text" name="title" class="form-control" placeholder="Title">
            <input type="number" name="userId" class="form-control" placeholder="UserID">
            <textarea name="bodyContent"  cols="30" rows="10" class="form-control" placeholder="Body COntent"></textarea>
            <button type="submit" class="btn btn-primary">Submit</button>
            <div id="result"></div>
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        console.log('1');
        
        $(document).ready(function(){
            console.log('2');

            $(".heading").addClass("text-danger");
            $(".heading").css({"background-color" : "yellow","font-weight": "bold"});

            /* Ajax với phương thức GET */
            $.get("https://jsonplaceholder.typicode.com/users", function(data, status){
                console.log(data);
                let html = '<table>';
                    html += '<tr><td>ID</td><td>Name</td><td>Email</td></tr>';
                for (let index = 0; index < data.length; index++) {
                    html += `<tr><td>${data[index].id}</td><td>${data[index].name}</td><td>${data[index].email}</td></tr>`;
                    
                }
                html += '</table>';

                $("#showUsers").html(html);
            });
        });

        console.log('3');

        $(".desc").empty();

        $("#heading").on( "mouseover", function() {
            alert('Bạn đã mouseover vào h1')
        });

        $("#heading").on( "click", function() {
            alert('Bạn đã clicked vào h1')
        });

        $("#toggleContent").on( "click", function() {
            $("#showContent").slideDown(300);
        });


        $("#toggleMobile").on( "click", function() {
            $("#showNav").toggleClass('d-block')
        });



        // let heading = document.querySelector("h1").innerText;
        // console.log(heading);

        let heading = $(".heading").text();
       
        /* Lấy thuộc tính data- */
        let price = $("strong#price").data('price');
        let price_2 = $("strong#price").attr('data-price');
        console.log(price,price_2);

        /* Lấy giá trị từ form */
       
        $( "#btnLogin" ).on( "click", function() {
            console.log( "click" );
            let username = $("#username").val();
            let password = $("#password").val();

            console.log( "Login => " , username, password);

        });
        /* Cách 2 với submit form */
        $( "#myFrom" ).submit(function( event ) {
            event.preventDefault();

            console.log('Bạn vừa nhấn submit form');

        //    let data = $("#myFrom").serialize();
        //    console.log(data);

         /* Trong thằng form tìm input có name = username */
           let username = $(this).find("input[name=username]").val();
           let password = $(this).find("input[name=password]").val();
           
            console.log( "Login Cách 2 => " , username,password);

            $("#showUsername").text(username);
            $("#showPass").text(password);
        });

        $( "#postForm" ).submit(function( event ) {
            event.preventDefault();

         
           let title = $(this).find("input[name=title]").val();
           let userId = $(this).find("input[name=userId]").val();
           let bodyContent = $(this).find("textarea[name=bodyContent]").val();
           
            console.log( "title => " , title);
            console.log( "userId => " , userId);
            console.log( "body => " , bodyContent);

            /* Gửi lên server */
            $.post("https://jsonplaceholder.typicode.com/posts",
                {
                    title: title,
                    body: bodyContent,
                    userId: userId
                },
                function(data, status){
                    /* Kết quả trả về sau khi server xử lý*/
                    console.log(data,status);
                    $("#result").html(`<div class="alert alert-success" role="alert">
  Đã đăng bài thành công !
</div>`)
                });

          
        });


        /* JSON String */

        let student = '{"id": "1", "name": "Peter"}';

        console.log(typeof student);
        

        /* convert JSON String to Object */
        let obStudent = JSON.parse(student);
        console.log(typeof obStudent,obStudent);


         /* convert Object to JSON String   */
        let strStudent = JSON.stringify(obStudent);
        console.log(typeof strStudent,strStudent);

    </script>

</body>
</html>